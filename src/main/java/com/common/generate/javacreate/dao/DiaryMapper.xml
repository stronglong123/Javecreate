<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.common.generate.javacreate.dao.DiaryMapper">

    <resultMap id="diaryResultMap" type="com.common.generate.javacreate.model.DiaryDTO">
        <id column="Id" jdbcType="BIGINT" property="id"/> 
        <result column="title" jdbcType="VARCHAR" property="title"/> 
        <result column="content" jdbcType="VARCHAR" property="content"/> 
        <result column="State" jdbcType="INTEGER" property="state"/> 
        <result column="Remark" jdbcType="VARCHAR" property="remark"/> 
        <result column="CreateTime" jdbcType="TIMESTAMP" property="createTime"/> 
        <result column="LastUpdateTime" jdbcType="TIMESTAMP" property="lastUpdateTime"/>
    </resultMap>

    <sql id="diaryColumns">
        diary.Id,
        diary.title,
        diary.content,
        diary.State,
        diary.Remark,
        diary.CreateTime,
        diary.LastUpdateTime
    </sql>


    <select id="selectByPrimaryKey" resultMap="diaryResultMap">
        SELECT
        <include refid="diaryColumns" />
        FROM diary
        where diary.Id = #{id,jdbcType=BIGINT}
    </select>

    <select id="findPageByCondition" resultMap="diaryResultMap">
        SELECT
        <include refid="diaryColumns" />
        FROM diary
        <where>
        </where>
    </select>

    <select id="findByCondition" resultMap="diaryResultMap">
        SELECT
        <include refid="diaryColumns" />
        FROM diary
        <where>
        </where>
    </select>

    <insert id="insert">
        INSERT INTO diary(
            Id,
            title,
            content,
            State,
            Remark,
            CreateTime,
            LastUpdateTime
        )
        VALUES (
            #{id,jdbcType=BIGINT},
            #{title,jdbcType=VARCHAR},
            #{content,jdbcType=VARCHAR},
            #{state,jdbcType=INTEGER},
            #{remark,jdbcType=VARCHAR},
            #{createTime,jdbcType=TIMESTAMP},
            #{lastUpdateTime,jdbcType=TIMESTAMP}
        )
    </insert>

    <insert id="insertBatch">
        INSERT INTO diary(
            Id,
            title,
            content,
            State,
            Remark,
            CreateTime,
            LastUpdateTime
        )
        VALUES
        <foreach collection ="list" item="diary" separator =",">
        (
            #{diary.id,jdbcType=BIGINT},
            #{diary.title,jdbcType=VARCHAR},
            #{diary.content,jdbcType=VARCHAR},
            #{diary.state,jdbcType=INTEGER},
            #{diary.remark,jdbcType=VARCHAR},
            #{diary.createTime,jdbcType=TIMESTAMP},
            #{diary.lastUpdateTime,jdbcType=TIMESTAMP}
        )
        </foreach>
    </insert>

    <update id="updateByPrimaryKeySelective">
        UPDATE diary
        <set>
            <if test="id!= null">
                Id = #{id,jdbcType=BIGINT},
            </if>  
            <if test="title!= null">
                title = #{title,jdbcType=VARCHAR},
            </if>  
            <if test="content!= null">
                content = #{content,jdbcType=VARCHAR},
            </if>  
            <if test="state!= null">
                State = #{state,jdbcType=INTEGER},
            </if>  
            <if test="remark!= null">
                Remark = #{remark,jdbcType=VARCHAR},
            </if>  
            <if test="createTime!= null">
                CreateTime = #{createTime,jdbcType=TIMESTAMP},
            </if>  
            <if test="lastUpdateTime!= null">
                LastUpdateTime = #{lastUpdateTime,jdbcType=TIMESTAMP},
            </if> 
        </set>
        WHERE Id = #{id,jdbcType=BIGINT}
    </update>

    <delete id="deleteByPrimaryKey">
        DELETE FROM diary
        WHERE Id = #{id,jdbcType=BIGINT}
    </delete>

</mapper>